import{a as pt,b as Bt,c as kt,u as J,d as K,m as L,e as bt,f as S,n as j,g as Ot,h as R,s as q,r as Ht,i as nt,j as I,k as Wt,l as vt,o as Ut,p as $t}from"./chunk-8c38a3c6.js";const qt={tokenize:Jt,partial:!0},xt={tokenize:Kt,partial:!0},wt={tokenize:Qt,partial:!0},P={tokenize:Yt,partial:!0},Ct={tokenize:Xt,partial:!0},yt={tokenize:Nt,previous:Ft},dt={tokenize:Zt,previous:X},A={tokenize:Gt,previous:St},F={},Vt={text:F};let M=48;for(;M<123;)F[M]=A,M++,M===58?M=65:M===91&&(M=97);F[43]=A;F[45]=A;F[46]=A;F[95]=A;F[72]=[A,dt];F[104]=[A,dt];F[87]=[A,yt];F[119]=[A,yt];function Gt(t,e,n){const l=this;let u,i;return r;function r(g){return!it(g)||!St(l.previous)||Y(l.events)?n(g):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(g))}function o(g){return it(g)?(t.consume(g),o):g===64?(t.consume(g),a):n(g)}function a(g){return g===46?t.check(P,p,m)(g):g===45||g===95?t.check(P,n,h)(g):pt(g)?(!i&&Bt(g)&&(i=!0),t.consume(g),a):p(g)}function m(g){return t.consume(g),u=!0,i=void 0,a}function h(g){return t.consume(g),k}function k(g){return g===46?t.check(P,n,m)(g):a(g)}function p(g){return u&&!i?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(g)):n(g)}}function Nt(t,e,n){const l=this;return u;function u(r){return r!==87&&r!==119||!Ft(l.previous)||Y(l.events)?n(r):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(qt,t.attempt(xt,t.attempt(wt,i),n),n)(r))}function i(r){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(r)}}function Zt(t,e,n){const l=this;return u;function u(c){return c!==72&&c!==104||!X(l.previous)||Y(l.events)?n(c):(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),t.consume(c),i)}function i(c){return c===84||c===116?(t.consume(c),r):n(c)}function r(c){return c===84||c===116?(t.consume(c),o):n(c)}function o(c){return c===80||c===112?(t.consume(c),a):n(c)}function a(c){return c===83||c===115?(t.consume(c),m):m(c)}function m(c){return c===58?(t.consume(c),h):n(c)}function h(c){return c===47?(t.consume(c),k):n(c)}function k(c){return c===47?(t.consume(c),p):n(c)}function p(c){return c===null||kt(c)||J(c)||K(c)?n(c):t.attempt(xt,t.attempt(wt,g),n)(c)}function g(c){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(c)}}function Jt(t,e,n){return l;function l(a){return t.consume(a),u}function u(a){return a===87||a===119?(t.consume(a),i):n(a)}function i(a){return a===87||a===119?(t.consume(a),r):n(a)}function r(a){return a===46?(t.consume(a),o):n(a)}function o(a){return a===null||S(a)?n(a):e(a)}}function Kt(t,e,n){let l,u;return i;function i(a){return a===38?t.check(Ct,o,r)(a):a===46||a===95?t.check(P,o,r)(a):a===null||kt(a)||J(a)||a!==45&&K(a)?o(a):(t.consume(a),i)}function r(a){return a===46?(u=l,l=void 0,t.consume(a),i):(a===95&&(l=!0),t.consume(a),i)}function o(a){return!u&&!l?e(a):n(a)}}function Qt(t,e){let n=0;return l;function l(r){return r===38?t.check(Ct,e,u)(r):(r===40&&n++,r===41?t.check(P,i,u)(r):Q(r)?e(r):Dt(r)?t.check(P,e,u)(r):(t.consume(r),l))}function u(r){return t.consume(r),l}function i(r){return n--,n<0?e(r):u(r)}}function Xt(t,e,n){return l;function l(r){return t.consume(r),u}function u(r){return bt(r)?(t.consume(r),u):r===59?(t.consume(r),i):n(r)}function i(r){return Q(r)?e(r):n(r)}}function Yt(t,e,n){return l;function l(i){return t.consume(i),u}function u(i){return Dt(i)?(t.consume(i),u):Q(i)?e(i):n(i)}}function Dt(t){return t===33||t===34||t===39||t===41||t===42||t===44||t===46||t===58||t===59||t===60||t===63||t===95||t===126}function Q(t){return t===null||t===60||L(t)}function it(t){return t===43||t===45||t===46||t===95||pt(t)}function Ft(t){return t===null||t===40||t===42||t===95||t===126||L(t)}function X(t){return t===null||!bt(t)}function St(t){return t!==47&&X(t)}function Y(t){let e=t.length,n=!1;for(;e--;){const l=t[e][1];if((l.type==="labelLink"||l.type==="labelImage")&&!l._balanced){n=!0;break}if(l._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const te={tokenize:oe,partial:!0};function ee(){return{document:{[91]:{tokenize:le,continuation:{tokenize:ae},exit:ue}},text:{[91]:{tokenize:re},[93]:{add:"after",tokenize:ne,resolveTo:ie}}}}function ne(t,e,n){const l=this;let u=l.events.length;const i=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let r;for(;u--;){const a=l.events[u][1];if(a.type==="labelImage"){r=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return o;function o(a){if(!r||!r._balanced)return n(a);const m=j(l.sliceSerialize({start:r.end,end:l.now()}));return m.charCodeAt(0)!==94||!i.includes(m.slice(1))?n(a):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(a),t.exit("gfmFootnoteCallLabelMarker"),e(a))}}function ie(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const l={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},u={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};u.end.column++,u.end.offset++,u.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},u.end),end:Object.assign({},t[t.length-1][1].start)},r={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},o=[t[n+1],t[n+2],["enter",l,e],t[n+3],t[n+4],["enter",u,e],["exit",u,e],["enter",i,e],["enter",r,e],["exit",r,e],["exit",i,e],t[t.length-2],t[t.length-1],["exit",l,e]];return t.splice(n,t.length-n+1,...o),t}function re(t,e,n){const l=this,u=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let i=0,r;return o;function o(p){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),a}function a(p){return p!==94?n(p):(t.enter("gfmFootnoteCallMarker"),t.consume(p),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",m)}function m(p){let g;return p===null||p===91||i++>999?n(p):p===93?r?(t.exit("chunkString"),g=t.exit("gfmFootnoteCallString"),u.includes(j(l.sliceSerialize(g)))?k(p):n(p)):n(p):(t.consume(p),L(p)||(r=!0),p===92?h:m)}function h(p){return p===91||p===92||p===93?(t.consume(p),i++,m):m(p)}function k(p){return t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e}}function le(t,e,n){const l=this,u=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let i,r=0,o;return a;function a(f){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(f),t.exit("gfmFootnoteDefinitionLabelMarker"),m}function m(f){return f===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(f),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),h):n(f)}function h(f){let b;return f===null||f===91||r>999?n(f):f===93?o?(b=t.exit("gfmFootnoteDefinitionLabelString"),i=j(l.sliceSerialize(b)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(f),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),g):n(f):S(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),r++,h):(t.enter("chunkString").contentType="string",k(f))}function k(f){return f===null||S(f)||f===91||f===93||r>999?(t.exit("chunkString"),h(f)):(L(f)||(o=!0),r++,t.consume(f),f===92?p:k)}function p(f){return f===91||f===92||f===93?(t.consume(f),r++,k):k(f)}function g(f){return f===58?(t.enter("definitionMarker"),t.consume(f),t.exit("definitionMarker"),R(t,c,"gfmFootnoteDefinitionWhitespace")):n(f)}function c(f){return u.includes(i)||u.push(i),e(f)}}function ae(t,e,n){return t.check(Ot,e,t.attempt(te,e,n))}function ue(t){t.exit("gfmFootnoteDefinition")}function oe(t,e,n){const l=this;return R(t,u,"gfmFootnoteDefinitionIndent",4+1);function u(i){const r=l.events[l.events.length-1];return r&&r[1].type==="gfmFootnoteDefinitionIndent"&&r[2].sliceSerialize(r[1],!0).length===4?e(i):n(i)}}function se(t={}){let e=t.singleTilde;const n={tokenize:u,resolveAll:l};return e==null&&(e=!0),{text:{[126]:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function l(i,r){let o=-1;for(;++o<i.length;)if(i[o][0]==="enter"&&i[o][1].type==="strikethroughSequenceTemporary"&&i[o][1]._close){let a=o;for(;a--;)if(i[a][0]==="exit"&&i[a][1].type==="strikethroughSequenceTemporary"&&i[a][1]._open&&i[o][1].end.offset-i[o][1].start.offset===i[a][1].end.offset-i[a][1].start.offset){i[o][1].type="strikethroughSequence",i[a][1].type="strikethroughSequence";const m={type:"strikethrough",start:Object.assign({},i[a][1].start),end:Object.assign({},i[o][1].end)},h={type:"strikethroughText",start:Object.assign({},i[a][1].end),end:Object.assign({},i[o][1].start)},k=[["enter",m,r],["enter",i[a][1],r],["exit",i[a][1],r],["enter",h,r]];q(k,k.length,0,Ht(r.parser.constructs.insideSpan.null,i.slice(a+1,o),r)),q(k,k.length,0,[["exit",h,r],["enter",i[o][1],r],["exit",i[o][1],r],["exit",m,r]]),q(i,a-1,o-a+3,k),o=a+k.length-2;break}}for(o=-1;++o<i.length;)i[o][1].type==="strikethroughSequenceTemporary"&&(i[o][1].type="data");return i}function u(i,r,o){const a=this.previous,m=this.events;let h=0;return k;function k(g){return a===126&&m[m.length-1][1].type!=="characterEscape"?o(g):(i.enter("strikethroughSequenceTemporary"),p(g))}function p(g){const c=nt(a);if(g===126)return h>1?o(g):(i.consume(g),h++,p);if(h<2&&!e)return o(g);const f=i.exit("strikethroughSequenceTemporary"),b=nt(g);return f._open=!b||b===2&&Boolean(c),f._close=!c||c===2&&Boolean(b),r(g)}}}const he={flow:{null:{tokenize:fe,resolve:ce}}},rt={tokenize:ge,partial:!0};function ce(t,e){let n=-1,l,u,i,r,o,a,m;for(;++n<t.length;){const h=t[n][1];if(i&&(h.type==="temporaryTableCellContent"&&(r=r||n,o=n),(h.type==="tableCellDivider"||h.type==="tableRow")&&o)){const k={type:"tableContent",start:t[r][1].start,end:t[o][1].end},p={type:"chunkText",start:k.start,end:k.end,contentType:"text"};t.splice(r,o-r+1,["enter",k,e],["enter",p,e],["exit",p,e],["exit",k,e]),n-=o-r-3,r=void 0,o=void 0}if(t[n][0]==="exit"&&a!==void 0&&a+(m?0:1)<n&&(h.type==="tableCellDivider"||h.type==="tableRow"&&(a+3<n||t[a][1].type!=="whitespace"))){const k={type:u?"tableDelimiter":l?"tableHeader":"tableData",start:t[a][1].start,end:t[n][1].end};t.splice(n+(h.type==="tableCellDivider"?1:0),0,["exit",k,e]),t.splice(a,0,["enter",k,e]),n+=2,a=n+1,m=!0}h.type==="tableRow"&&(i=t[n][0]==="enter",i&&(a=n+1,m=!1)),h.type==="tableDelimiterRow"&&(u=t[n][0]==="enter",u&&(a=n+1,m=!1)),h.type==="tableHead"&&(l=t[n][0]==="enter")}return t}function fe(t,e,n){const l=this,u=[];let i=0,r,o;return a;function a(s){return t.enter("table")._align=u,t.enter("tableHead"),t.enter("tableRow"),s===124?m(s):(i++,t.enter("temporaryTableCellContent"),p(s))}function m(s){return t.enter("tableCellDivider"),t.consume(s),t.exit("tableCellDivider"),r=!0,h}function h(s){return s===null||S(s)?c(s):I(s)?(t.enter("whitespace"),t.consume(s),k):(r&&(r=void 0,i++),s===124?m(s):(t.enter("temporaryTableCellContent"),p(s)))}function k(s){return I(s)?(t.consume(s),k):(t.exit("whitespace"),h(s))}function p(s){return s===null||s===124||L(s)?(t.exit("temporaryTableCellContent"),h(s)):(t.consume(s),s===92?g:p)}function g(s){return s===92||s===124?(t.consume(s),p):p(s)}function c(s){if(s===null)return n(s);t.exit("tableRow"),t.exit("tableHead");const B=l.interrupt;return l.interrupt=!0,t.attempt({tokenize:U,partial:!0},function(T){return l.interrupt=B,t.enter("tableDelimiterRow"),f(T)},function(T){return l.interrupt=B,n(T)})(s)}function f(s){return s===null||S(s)?d(s):I(s)?(t.enter("whitespace"),t.consume(s),b):s===45?(t.enter("tableDelimiterFiller"),t.consume(s),o=!0,u.push("none"),x):s===58?(t.enter("tableDelimiterAlignment"),t.consume(s),t.exit("tableDelimiterAlignment"),u.push("left"),w):s===124?(t.enter("tableCellDivider"),t.consume(s),t.exit("tableCellDivider"),f):n(s)}function b(s){return I(s)?(t.consume(s),b):(t.exit("whitespace"),f(s))}function x(s){return s===45?(t.consume(s),x):(t.exit("tableDelimiterFiller"),s===58?(t.enter("tableDelimiterAlignment"),t.consume(s),t.exit("tableDelimiterAlignment"),u[u.length-1]=u[u.length-1]==="left"?"center":"right",C):f(s))}function w(s){return s===45?(t.enter("tableDelimiterFiller"),t.consume(s),o=!0,x):n(s)}function C(s){return s===null||S(s)?d(s):I(s)?(t.enter("whitespace"),t.consume(s),b):s===124?(t.enter("tableCellDivider"),t.consume(s),t.exit("tableCellDivider"),f):n(s)}function d(s){return t.exit("tableDelimiterRow"),!o||i!==u.length?n(s):s===null?y(s):t.check(rt,y,t.attempt({tokenize:U,partial:!0},R(t,H,"linePrefix",4),y))(s)}function y(s){return t.exit("table"),e(s)}function H(s){return t.enter("tableBody"),D(s)}function D(s){return t.enter("tableRow"),s===124?tt(s):(t.enter("temporaryTableCellContent"),_(s))}function tt(s){return t.enter("tableCellDivider"),t.consume(s),t.exit("tableCellDivider"),W}function W(s){return s===null||S(s)?Pt(s):I(s)?(t.enter("whitespace"),t.consume(s),et):s===124?tt(s):(t.enter("temporaryTableCellContent"),_(s))}function et(s){return I(s)?(t.consume(s),et):(t.exit("whitespace"),W(s))}function _(s){return s===null||s===124||L(s)?(t.exit("temporaryTableCellContent"),W(s)):(t.consume(s),s===92?Rt:_)}function Rt(s){return s===92||s===124?(t.consume(s),_):_(s)}function Pt(s){return t.exit("tableRow"),s===null?v(s):t.check(rt,v,t.attempt({tokenize:U,partial:!0},R(t,D,"linePrefix",4),v))(s)}function v(s){return t.exit("tableBody"),y(s)}function U(s,B,T){return _t;function _t(E){return s.enter("lineEnding"),s.consume(E),s.exit("lineEnding"),R(s,jt,"linePrefix")}function jt(E){if(l.parser.lazy[l.now().line]||E===null||S(E))return T(E);const O=l.events[l.events.length-1];return!l.parser.constructs.disable.null.includes("codeIndented")&&O&&O[1].type==="linePrefix"&&O[2].sliceSerialize(O[1],!0).length>=4?T(E):(l._gfmTableDynamicInterruptHack=!0,s.check(l.parser.constructs.flow,function($){return l._gfmTableDynamicInterruptHack=!1,T($)},function($){return l._gfmTableDynamicInterruptHack=!1,B($)})(E))}}}function ge(t,e,n){let l=0;return u;function u(r){return t.enter("check"),t.consume(r),i}function i(r){return r===-1||r===32?(t.consume(r),l++,l===4?e:i):r===null||L(r)?e(r):n(r)}}const me={tokenize:ke},pe={text:{[91]:me}};function ke(t,e,n){const l=this;return u;function u(o){return l.previous!==null||!l._gfmTasklistFirstContentOfListItem?n(o):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(o),t.exit("taskListCheckMarker"),i)}function i(o){return L(o)?(t.enter("taskListCheckValueUnchecked"),t.consume(o),t.exit("taskListCheckValueUnchecked"),r):o===88||o===120?(t.enter("taskListCheckValueChecked"),t.consume(o),t.exit("taskListCheckValueChecked"),r):n(o)}function r(o){return o===93?(t.enter("taskListCheckMarker"),t.consume(o),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),t.check({tokenize:be},e,n)):n(o)}}function be(t,e,n){const l=this;return R(t,u,"whitespace");function u(i){const r=l.events[l.events.length-1];return(r&&r[1].type==="whitespace"||S(i))&&i!==null?e(i):n(i)}}function xe(t){return Wt([Vt,ee(),se(t),he,pe])}function lt(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let l=0,u=n.indexOf(e);for(;u!==-1;)l++,u=n.indexOf(e,u+e.length);return l}function we(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const Ce={}.hasOwnProperty,ye=function(t,e,n,l){let u,i;typeof e=="string"||e instanceof RegExp?(i=[[e,n]],u=l):(i=e,u=n),u||(u={});const r=vt(u.ignore||[]),o=de(i);let a=-1;for(;++a<o.length;)Ut(t,"text",m);return t;function m(k,p){let g=-1,c;for(;++g<p.length;){const f=p[g];if(r(f,c?c.children.indexOf(f):void 0,c))return;c=f}if(c)return h(k,p)}function h(k,p){const g=p[p.length-1],c=o[a][0],f=o[a][1];let b=0;const x=g.children.indexOf(k);let w=!1,C=[],d;c.lastIndex=0;let y=c.exec(k.value);for(;y;){d=y.index;const H={index:y.index,input:y.input,stack:[...p,k]};let D=f(...y,H);if(typeof D=="string"&&(D=D.length>0?{type:"text",value:D}:void 0),D!==!1&&(b!==d&&C.push({type:"text",value:k.value.slice(b,d)}),Array.isArray(D)?C.push(...D):D&&C.push(D),b=d+y[0].length,w=!0),!c.global)break;y=c.exec(k.value)}return w?(b<k.value.length&&C.push({type:"text",value:k.value.slice(b)}),g.children.splice(x,1,...C)):C=[k],x+C.length}};function de(t){const e=[];if(typeof t!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(t)){let n=-1;for(;++n<t.length;)e.push([at(t[n][0]),ut(t[n][1])])}else{let n;for(n in t)Ce.call(t,n)&&e.push([at(n),ut(t[n])])}return e}function at(t){return typeof t=="string"?new RegExp(we(t),"g"):t}function ut(t){return typeof t=="function"?t:()=>t}const V="phrasing",G=["autolink","link","image","label"],De={transforms:[Ee],enter:{literalAutolink:Se,literalAutolinkEmail:N,literalAutolinkHttp:N,literalAutolinkWww:N},exit:{literalAutolink:Te,literalAutolinkEmail:ze,literalAutolinkHttp:Ae,literalAutolinkWww:Le}},Fe={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:V,notInConstruct:G},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:V,notInConstruct:G},{character:":",before:"[ps]",after:"\\/",inConstruct:V,notInConstruct:G}]};function Se(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function N(t){this.config.enter.autolinkProtocol.call(this,t)}function Ae(t){this.config.exit.autolinkProtocol.call(this,t)}function Le(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.url="http://"+this.sliceSerialize(t)}function ze(t){this.config.exit.autolinkEmail.call(this,t)}function Te(t){this.exit(t)}function Ee(t){ye(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Ie],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,Me]],{ignore:["link","linkReference"]})}function Ie(t,e,n,l,u){let i="";if(!At(u)||(/^w/i.test(e)&&(n=e+n,e="",i="http://"),!Re(n)))return!1;const r=Pe(n+l);if(!r[0])return!1;const o={type:"link",title:null,url:i+e+r[0],children:[{type:"text",value:e+r[0]}]};return r[1]?[o,{type:"text",value:r[1]}]:o}function Me(t,e,n,l){return!At(l,!0)||/[_-\d]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Re(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Pe(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);let n,l,u,i;if(e)for(t=t.slice(0,e.index),i=e[0],n=i.indexOf(")"),l=lt(t,"("),u=lt(t,")");n!==-1&&l>u;)t+=i.slice(0,n+1),i=i.slice(n+1),n=i.indexOf(")"),u++;return[t,i]}function At(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||J(n)||K(n))&&(!e||n!==47)}function ot(t){return t.label||!t.identifier?t.label||"":$t(t.identifier)}function z(t){const e=t||{},n=e.now||{};let l=e.lineShift||0,u=n.line||1,i=n.column||1;return{move:a,current:r,shift:o};function r(){return{now:{line:u,column:i},lineShift:l}}function o(m){l+=m}function a(m=""){const h=m.split(/\r?\n|\r/g),k=h[h.length-1];return u+=h.length-1,i=h.length===1?i+k.length:1+k.length+l,m}}function Lt(t,e,n){const l=e.indexStack,u=t.children||[],i=z(n),r=[];let o=-1;for(l.push(-1);++o<u.length;){const m=u[o];l[l.length-1]=o,r.push(i.move(e.handle(m,t,e,{before:`
`,after:`
`,...i.current()}))),m.type!=="list"&&(e.bulletLastUsed=void 0),o<u.length-1&&r.push(i.move(a(m,u[o+1])))}return l.pop(),r.join("");function a(m,h){let k=e.join.length;for(;k--;){const p=e.join[k](m,h,t,e);if(p===!0||p===1)break;if(typeof p=="number")return`
`.repeat(1+p);if(p===!1)return`

<!---->

`}return`

`}}const _e=/\r?\n|\r/g;function zt(t,e){const n=[];let l=0,u=0,i;for(;i=_e.exec(t);)r(t.slice(l,i.index)),n.push(i[0]),l=i.index+i[0].length,u++;return r(t.slice(l)),n.join("");function r(o){n.push(e(o,u,!o))}}function Tt(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function je(t,e){return st(t,e.inConstruct,!0)&&!st(t,e.notInConstruct,!1)}function st(t,e,n){if(!e)return n;typeof e=="string"&&(e=[e]);let l=-1;for(;++l<e.length;)if(t.includes(e[l]))return!0;return!1}function ht(t,e,n){const l=(n.before||"")+(e||"")+(n.after||""),u=[],i=[],r={};let o=-1;for(;++o<t.unsafe.length;){const h=t.unsafe[o];if(!je(t.stack,h))continue;const k=Tt(h);let p;for(;p=k.exec(l);){const g="before"in h||Boolean(h.atBreak),c="after"in h,f=p.index+(g?p[1].length:0);u.includes(f)?(r[f].before&&!g&&(r[f].before=!1),r[f].after&&!c&&(r[f].after=!1)):(u.push(f),r[f]={before:g,after:c})}}u.sort(Be);let a=n.before?n.before.length:0;const m=l.length-(n.after?n.after.length:0);for(o=-1;++o<u.length;){const h=u[o];h<a||h>=m||h+1<m&&u[o+1]===h+1&&r[h].after&&!r[h+1].before&&!r[h+1].after||u[o-1]===h-1&&r[h].before&&!r[h-1].before&&!r[h-1].after||(a!==h&&i.push(ct(l.slice(a,h),"\\")),a=h,/[!-/:-@[-`{-~]/.test(l.charAt(h))&&(!n.encode||!n.encode.includes(l.charAt(h)))?i.push("\\"):(i.push("&#x"+l.charCodeAt(h).toString(16).toUpperCase()+";"),a++))}return i.push(ct(l.slice(a,m),n.after)),i.join("")}function Be(t,e){return t-e}function ct(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,l=[],u=[],i=t+e;let r=-1,o=0,a;for(;a=n.exec(i);)l.push(a.index);for(;++r<l.length;)o!==l[r]&&u.push(t.slice(o,l[r])),u.push("\\"),o=l[r];return u.push(t.slice(o)),u.join("")}function Oe(){return{enter:{gfmFootnoteDefinition:t,gfmFootnoteDefinitionLabelString:e,gfmFootnoteCall:u,gfmFootnoteCallString:i},exit:{gfmFootnoteDefinition:l,gfmFootnoteDefinitionLabelString:n,gfmFootnoteCall:o,gfmFootnoteCallString:r}};function t(a){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},a)}function e(){this.buffer()}function n(a){const m=this.resume(),h=this.stack[this.stack.length-1];h.label=m,h.identifier=j(this.sliceSerialize(a)).toLowerCase()}function l(a){this.exit(a)}function u(a){this.enter({type:"footnoteReference",identifier:"",label:""},a)}function i(){this.buffer()}function r(a){const m=this.resume(),h=this.stack[this.stack.length-1];h.label=m,h.identifier=j(this.sliceSerialize(a)).toLowerCase()}function o(a){this.exit(a)}}function He(){return t.peek=e,{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:n,footnoteReference:t}};function t(l,u,i,r){const o=z(r);let a=o.move("[^");const m=i.enter("footnoteReference"),h=i.enter("reference");return a+=o.move(ht(i,ot(l),{...o.current(),before:a,after:"]"})),h(),m(),a+=o.move("]"),a}function e(){return"["}function n(l,u,i,r){const o=z(r);let a=o.move("[^");const m=i.enter("footnoteDefinition"),h=i.enter("label");return a+=o.move(ht(i,ot(l),{...o.current(),before:a,after:"]"})),h(),a+=o.move("]:"+(l.children&&l.children.length>0?" ":"")),o.shift(4),a+=o.move(zt(Lt(l,i,o.current()),k)),m(),a;function k(p,g,c){return g?(c?"":"    ")+p:p}}}function Et(t,e,n){const l=e.indexStack,u=t.children||[],i=[];let r=-1,o=n.before;l.push(-1);let a=z(n);for(;++r<u.length;){const m=u[r];let h;if(l[l.length-1]=r,r+1<u.length){let k=e.handle.handlers[u[r+1].type];k&&k.peek&&(k=k.peek),h=k?k(u[r+1],t,e,{before:"",after:"",...a.current()}).charAt(0):""}else h=n.after;i.length>0&&(o==="\r"||o===`
`)&&m.type==="html"&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),o=" ",a=z(n),a.move(i.join(""))),i.push(a.move(e.handle(m,t,e,{...a.current(),before:o,after:h}))),o=i[i.length-1].slice(-1)}return l.pop(),i.join("")}const We={canContainEols:["delete"],enter:{strikethrough:Ue},exit:{strikethrough:$e}},ve={unsafe:[{character:"~",inConstruct:"phrasing"}],handlers:{delete:It}};It.peek=qe;function Ue(t){this.enter({type:"delete",children:[]},t)}function $e(t){this.exit(t)}function It(t,e,n,l){const u=z(l),i=n.enter("emphasis");let r=u.move("~~");return r+=Et(t,n,{...u.current(),before:r,after:"~"}),r+=u.move("~~"),i(),r}function qe(){return"~"}Mt.peek=Ve;function Mt(t,e,n){let l=t.value||"",u="`",i=-1;for(;new RegExp("(^|[^`])"+u+"([^`]|$)").test(l);)u+="`";for(/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^`|`$/.test(l))&&(l=" "+l+" ");++i<n.unsafe.length;){const r=n.unsafe[i],o=Tt(r);let a;if(!!r.atBreak)for(;a=o.exec(l);){let m=a.index;l.charCodeAt(m)===10&&l.charCodeAt(m-1)===13&&m--,l=l.slice(0,m)+" "+l.slice(a.index+1)}}return u+l+u}function Ve(){return"`"}function Ge(t,e={}){const n=(e.align||[]).concat(),l=e.stringLength||Ze,u=[],i=[],r=[],o=[];let a=0,m=-1;for(;++m<t.length;){const c=[],f=[];let b=-1;for(t[m].length>a&&(a=t[m].length);++b<t[m].length;){const x=Ne(t[m][b]);if(e.alignDelimiters!==!1){const w=l(x);f[b]=w,(o[b]===void 0||w>o[b])&&(o[b]=w)}c.push(x)}i[m]=c,r[m]=f}let h=-1;if(typeof n=="object"&&"length"in n)for(;++h<a;)u[h]=ft(n[h]);else{const c=ft(n);for(;++h<a;)u[h]=c}h=-1;const k=[],p=[];for(;++h<a;){const c=u[h];let f="",b="";c===99?(f=":",b=":"):c===108?f=":":c===114&&(b=":");let x=e.alignDelimiters===!1?1:Math.max(1,o[h]-f.length-b.length);const w=f+"-".repeat(x)+b;e.alignDelimiters!==!1&&(x=f.length+x+b.length,x>o[h]&&(o[h]=x),p[h]=x),k[h]=w}i.splice(1,0,k),r.splice(1,0,p),m=-1;const g=[];for(;++m<i.length;){const c=i[m],f=r[m];h=-1;const b=[];for(;++h<a;){const x=c[h]||"";let w="",C="";if(e.alignDelimiters!==!1){const d=o[h]-(f[h]||0),y=u[h];y===114?w=" ".repeat(d):y===99?d%2?(w=" ".repeat(d/2+.5),C=" ".repeat(d/2-.5)):(w=" ".repeat(d/2),C=w):C=" ".repeat(d)}e.delimiterStart!==!1&&!h&&b.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&x==="")&&(e.delimiterStart!==!1||h)&&b.push(" "),e.alignDelimiters!==!1&&b.push(w),b.push(x),e.alignDelimiters!==!1&&b.push(C),e.padding!==!1&&b.push(" "),(e.delimiterEnd!==!1||h!==a-1)&&b.push("|")}g.push(e.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return g.join(`
`)}function Ne(t){return t==null?"":String(t)}function Ze(t){return t.length}function ft(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const Je={enter:{table:Ke,tableData:gt,tableHeader:gt,tableRow:Xe},exit:{codeText:Ye,table:Qe,tableData:Z,tableHeader:Z,tableRow:Z}};function Ke(t){const e=t._align;this.enter({type:"table",align:e.map(n=>n==="none"?null:n),children:[]},t),this.setData("inTable",!0)}function Qe(t){this.exit(t),this.setData("inTable")}function Xe(t){this.enter({type:"tableRow",children:[]},t)}function Z(t){this.exit(t)}function gt(t){this.enter({type:"tableCell",children:[]},t)}function Ye(t){let e=this.resume();this.getData("inTable")&&(e=e.replace(/\\([\\|])/g,tn));const n=this.stack[this.stack.length-1];n.value=e,this.exit(t)}function tn(t,e){return e==="|"?e:t}function en(t){const e=t||{},n=e.tableCellPadding,l=e.tablePipeAlign,u=e.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:r,tableRow:o,tableCell:a,inlineCode:p}};function r(g,c,f,b){return m(h(g,f,b),g.align)}function o(g,c,f,b){const x=k(g,f,b),w=m([x]);return w.slice(0,w.indexOf(`
`))}function a(g,c,f,b){const x=f.enter("tableCell"),w=f.enter("phrasing"),C=Et(g,f,{...b,before:i,after:i});return w(),x(),C}function m(g,c){return Ge(g,{align:c,alignDelimiters:l,padding:n,stringLength:u})}function h(g,c,f){const b=g.children;let x=-1;const w=[],C=c.enter("table");for(;++x<b.length;)w[x]=k(b[x],c,f);return C(),w}function k(g,c,f){const b=g.children;let x=-1;const w=[],C=c.enter("tableRow");for(;++x<b.length;)w[x]=a(b[x],g,c,f);return C(),w}function p(g,c,f){let b=Mt(g,c,f);return f.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function nn(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function rn(t){const e=t.options.listItemIndent||"tab";if(e===1||e==="1")return"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function ln(t,e,n,l){const u=rn(n);let i=n.bulletCurrent||nn(n);e&&e.type==="list"&&e.ordered&&(i=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+i);let r=i.length+1;(u==="tab"||u==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(r=Math.ceil(r/4)*4);const o=z(l);o.move(i+" ".repeat(r-i.length)),o.shift(r);const a=n.enter("listItem"),m=zt(Lt(t,n,o.current()),h);return a(),m;function h(k,p,g){return p?(g?"":" ".repeat(r))+k:(g?i:i+" ".repeat(r-i.length))+k}}const an={exit:{taskListCheckValueChecked:mt,taskListCheckValueUnchecked:mt,paragraph:on}},un={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:sn}};function mt(t){const e=this.stack[this.stack.length-2];e.checked=t.type==="taskListCheckValueChecked"}function on(t){const e=this.stack[this.stack.length-2],n=this.stack[this.stack.length-1],l=e.children,u=n.children[0];let i=-1,r;if(e&&e.type==="listItem"&&typeof e.checked=="boolean"&&u&&u.type==="text"){for(;++i<l.length;){const o=l[i];if(o.type==="paragraph"){r=o;break}}r===n&&(u.value=u.value.slice(1),u.value.length===0?n.children.shift():n.position&&u.position&&typeof u.position.start.offset=="number"&&(u.position.start.column++,u.position.start.offset++,n.position.start=Object.assign({},u.position.start)))}this.exit(t)}function sn(t,e,n,l){const u=t.children[0],i=typeof t.checked=="boolean"&&u&&u.type==="paragraph",r="["+(t.checked?"x":" ")+"] ",o=z(l);i&&o.move(r);let a=ln(t,e,n,{...l,...o.current()});return i&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,m)),a;function m(h){return h+r}}function hn(){return[De,Oe(),We,Je,an]}function cn(t){return{extensions:[Fe,He(),ve,en(t),un]}}function gn(t={}){const e=this.data();n("micromarkExtensions",xe(t)),n("fromMarkdownExtensions",hn()),n("toMarkdownExtensions",cn(t));function n(l,u){(e[l]?e[l]:e[l]=[]).push(u)}}export{gn as r};
